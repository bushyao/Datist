.. GIS

空间数据处理体系
===============================

说到空间数据、空间分析不得不提一下ArcGIS这款软件，GIS业内绝对的领导者，它功能强劲，非常专业，对于一个非GIS专业的人员而言，它需足够的耐心去驾驭它。（越是专业、功能越强的，门槛往往越高）

在我们日常数据分析中，空间分析是必不可少的，比如周围有哪些美食城，一次地震发生那个构造带上？为了进行这些常规的空间分析，去驾驭ArcGIS之类的专业软件，其学习成本显然过高。 

**空间分析系列节点**

数据专家中提供了一些常用的空间分析功能，如投影变换、空间匹配、最近图元查找等。

空间数据分析体系:

.. figure:: images/GIS01.jpg
     :align: center
     :figwidth: 90% 
     :name: plate 	

数据专家中，空间数据分析体系由空间数据源、创建图元、空间运算、空间可视化四部分构成：

  * 空间数据源：可以将ArcGIS、AutoCAD、MapInfo、GeoJson等常用空间数据文件读入系统中，包括空间数据、地质图件、接图表等节点；
  * 创建图元：将二维表数据转换成空间图元，包括创建点图元、线图元、多边形图元、外包络线图元等；
  * 空间运算：提供一组空间分析算法，如投影变换、简化图元、缓冲区分析、空间匹配、等值线绘制等；
  * 可视化：是将空间分析的结果，进行空间可视化展示，提供内置地图展示、百度地图、Google高清影像以及各类专题地图功能；除了这些内置的可视化功能之外，您还可以编写自己的R、Python、GMT脚本，使用脚本语言节点进行空间数据的展示与应用；

**空间数据构成**

空间数据的存储两个部分：一个是图元数据，一个属性数据；

  * 图元数据是点坐标、多边形的边界线坐标，由一对、一组XY数值的集合，如省边界线、单井坐标等；
  * 属性数据是一系列的业务参数，如省份的人口、GDP等；

通常GIS数据存储过程中，会将图元数据与属性数据分别存放，如ArcGIS的标准数据格式SHP与DBF文件，在数据专家里将它们合并在一张二维表中，图元以一个特殊的字符串（WKT，一种通用的图元表达方式）去表征它，您也可以创建编辑、自己的图元数据。
https://en.wikipedia.org/wiki/Well-known_text

{| class="wikitable"
|+Geometry primitives (2D)
|-
! Type
!colspan="2"| Examples
|-
| [[Point (geometry)|Point]]
| [[File:SFA Point.svg]]
| <code>POINT (30 10)</code>
|-
| [[Polygonal chain|LineString]]
| [[File:SFA LineString.svg]]
| <code>LINESTRING (30 10, 10 30, 40 40)</code>
|-
|rowspan="2"| [[Polygon]]
| [[File:SFA Polygon.svg]]
| <code>POLYGON ((30 10, 40 40, 20 40, 10 20, 30 10))</code>
|-
| [[File:SFA Polygon with hole.svg]]
| <code>POLYGON ((35 10, 45 45, 15 40, 10 20, 35 10),<br />  (20 30, 35 35, 30 20, 20 30))</code>
|}


在空间分析过程中，首先需要将空间数据转换空间图元（WKT），这里提供了创建点图元、创建多边形等系列节点。


.. note::
   数据专家中坐标系统默认是WGS84，在空间分析过程中，需先通过投影变换节点将其它坐标系的数据统一WGS84坐标系下。
 
